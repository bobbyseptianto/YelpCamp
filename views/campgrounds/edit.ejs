<% layout('./layouts/boilerplate') -%>

<h1 class="text-center">Edit Campground</h1>
<div class="col-md-6 offset-md-3 mb-5">
  <form
    action="/campgrounds/<%= campground._id %>?_method=PUT"
    method="POST"
    class="validate-form"
    enctype="multipart/form-data"
    novalidate
  >
    <div class="mb-3">
      <label class="form-label" for="title">Title :</label>
      <input
        class="form-control"
        type="text"
        name="title"
        id="title"
        value="<%= campground.title %>"
        required
      />
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback">Title is required!</div>
    </div>
    <div class="mb-3">
      <label class="form-label" for="location">Location :</label>
      <input
        class="form-control"
        type="text"
        name="location"
        id="location"
        value="<%= campground.location %>"
        required
      />
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback">Location is required!</div>
    </div>
    <div class="mb-3">
      <label class="form-label" for="price">Campground Price :</label>
      <div class="input-group mb-3">
        <span class="input-group-text" id="price-label">$</span>
        <input
          type="text"
          class="form-control"
          placeholder="0.00"
          name="price"
          aria-label="price"
          aria-describedby="price-label"
          value="<%= campground.price %>"
          required
        />
        <div class="valid-feedback">Looks good!</div>
        <div class="invalid-feedback">Price is required!</div>
      </div>
    </div>
    <div class="mb-3">
      <label class="form-label" for="description">Description :</label>
      <textarea
        class="form-control"
        type="text"
        name="description"
        id="description"
        required
      >
<%= campground.description %></textarea
      >
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback">Title is required!</div>
    </div>
    <div class="mb-3">
      <label class="form-label" for="image">Image :</label>
      <input
        class="form-control"
        type="file"
        name="image"
        id="image"
        multiple
      />
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback">Image is required!</div>
    </div>
    <div class="mb-3">
      <% campground.images.forEach((img, i) => { %>
      <img src="<%= img.thumbnail %>" class="img-thumbnail" alt="" />
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="checkbox"
          id="image-<%= i %>"
          value="<%= img.filename %>"
          name="deleteImages[]"
        />
        <label class="form-check-label" for="image-<%= i %>"> Delete? </label>
      </div>
      <% }) %>
    </div>
    <button class="btn btn-info text-light" type="submit">
      Edit Campground
    </button>
    <a class="btn btn-danger" href="/campgrounds/<%= campground._id %>">Back</a>
  </form>
</div>
